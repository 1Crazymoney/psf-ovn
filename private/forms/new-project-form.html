<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Blasting Off With Bootstrap</title>

  <link href="css/bootstrap.min.css" media="all" rel="stylesheet" />
  <link href="css/main.css" media="all" rel="stylesheet" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body>

<header class='navbar navbar-default navbar-static-top'>
  <nav class='container' role='navigation'>
    <div class='navbar-header'>
      <a href='index.html' class='navbar-brand'>Blasting Off With Bootstrap</a>

      <button type='button' class='navbar-toggle collapsed' data-toggle='collapse' data-target='.navbar-collapse'>
        <span class='sr-only'>Toggle navigation</span>
        <span class='icon-bar'></span>
        <span class='icon-bar'></span>
        <span class='icon-bar'></span>
      </button>
    </div>

    <ul class='nav navbar-nav navbar-right collapse navbar-collapse'>
      <li><a href='#'>Tickets</a></li>
      <li><a href='#'>Stations</a></li>
      <li class='dropdown'>
        <a href='/about' data-target='#' class='dropdown-toggle' data-toggle='dropdown'>About <span class='caret'></span></a>
        <ul class='dropdown-menu' role='menu'>
          <li><a href='#'>Our Story</a></li>
          <li><a href='#'>Contact Us</a></li>
          <li class='divider'></li>
          <li><a href='#'>Blog</a></li>
          <li class='divider'></li>
          <li><a href='#'>Twitter</a></li>
          <li><a href='#'>Facebook</a></li>
        </ul>
      </li>
    </ul>
  </nav>
</header>

<section>
  <div class='container'>
    <div class='row well well-lg'>
      <div class='col-md-6'>
        <h2>The Fastest Way to Space</h2>
        <p class='lead'>Make your way to space in our rocket, elevator or transporter.</p>
        <button type='button' class='btn btn-lg btn-default'>Take the Tour</button>
        <button type='button' class='btn btn-lg btn-primary'>Book Tickets Now</button>
      </div>
      <div class='col-md-6 visible-md visible-lg'>
        <img src='images/img-header.jpg' alt='Blast off with Bootstrap' />
      </div>
    </div>

    <div class='row text-center features'>
      <div class='col-sm-4 col-xs-10 col-xs-offset-1 col-sm-offset-0'>
        <i class='glyphicon glyphicon-briefcase '></i>
        <h3>Book Today!</h3>
        <p>Even if you're traveling tomorrow, you can still get tickets today. We have a number of conveniently located ports around the globe to service everyone.</p>
      </div>

      <div class='col-sm-4 col-xs-6'>
        <i class='glyphicon glyphicon-random'></i>
        <h3>Go Anywhere</h3>
        <p>If you need to get to space today, why not try out a transporter? Despite the claims, there are have been no deaths in the last 6 weeks!</p>
      </div>

      <div class='col-sm-4 col-xs-6'>
        <i class='glyphicon glyphicon-send'></i>
        <h3>RocketBus&reg;</h3>
        <p>For cheapest fares, catch the next RocketBus&reg; to the stars. Cheaper on your wallet, and easiest way to make friends.</p>
      </div>
    </div>
  </div>
</section>

<section>
  <h2>Test Area</h2>
  <div class="container">
 <!-- COPY THIS SECTION. START -->   

<p>&nbsp;</p>
<p>Before you can start a project, you need to <a href="http://rpiovn.com/page/create-nrp-account">create an NRP account</a>. Be sure to do that first!</p>
<p>All projects must have a project manager. If you start a project, <u>you</u> are the project manager. If you don't want to be the project manager, then you need to find someone to take over the role. Project managers are the primary point of contact for people interested in contributing to a project, and they must have an up-to-date email address for people to use to contact them.&nbsp;</p>
<p>&nbsp;</p>
<p>Fill out the application form below to submit your project idea:</p>
<p>&nbsp;</p>
<form class="form-horizontal" id="newProjectForm">
  <div class="form-group">
    <label for="inputName" class="col-sm-2 control-label">Your Name:</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="inputName" id="inputName" placeholder="Name">
    </div>
  </div>

  <div class="form-group">
    <label for="inputEmail" class="col-sm-2 control-label">Your Email:</label>
    <div class="col-sm-10">
      <input type="email" class="form-control" name="inputEmail" id="inputEmail" placeholder="Email">
    </div>
  </div>

  <div class="form-group">
    <label for="projectName" class="col-sm-2 control-label">Project Name:</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="projectName" id="projectName" placeholder="Email">
    </div>
  </div>
  
  <br>
  <p>A good template to use as an example for filling out the sections below is the <a href="http://rpiovn.com/page/simple-tracking-device">GPS tracking device</a>. Adapt your project information to fit the format of information on that project, and fill it in below.</p>
  <div class="form-group">
    <label for="inputSummary" class="col-sm-2 control-label">Project Summary:</label>
    <div class="col-sm-10">            
      <textarea class="form-control" rows="3" name="inputSummary" id="inputSummary"></textarea>
      <p>Include a URL your GitHub repository if applicable. What is the target audience for this project?</p>
    </div>
  </div>

  <br>
  <div class="form-group">
    <label for="inputHardware" class="col-sm-2 control-label">Hardware:</label>
    <div class="col-sm-10">            
      <textarea class="form-control" rows="3" name="inputHardware" id="inputHardware"></textarea>
      <p>Give an explanation of what hardware will be required in this project.</p>
    </div>
  </div>

  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="button" class="btn btn-default" id="submitButton">Submit</button>
    </div>
  </div>
</form>
<h1 id="successMsg" hidden></h1>
<p id="successMsg2" hidden></p>

<script src="http://rpiovn.com/js/jquery/jquery-2.1.4.min.js"></script>
<script type="text/javascript">

  //Global Variables
  global = new Object(); //This is where all global variables will be stored.
  global.serverIp = "104.131.137.38"; //Production Server
  //global.serverIp = "192.241.198.211"; //Test Server
  global.serverPort = "80";
  global.nrpPort = "8000";
  global.nodemailerPort = "3000";
    
  $("#submitButton").click(function(event) {
    //debugger;
    event.preventDefault();

      
    /* BEGIN SUBMIT NRPUser MODEL DATA */
    var projectData = new Object();
    projectData.projectname = $('#projectName').val();
    projectData.projectnick = $('#projectName').val();
    projectData.agent_type = "http://192.241.198.211:8000/api/agent-types/13/";

    //Check required inputs
    if( (projectData.projectname == "") || ($('#inputName').val() == "") || ($('#inputEmail').val() == "") ) {
      alert('The form appears to be missing information. Please fill in all input boxes.');
      console.log('Invalid/empty input');
      return;
    }

    //Put some code here to check against existing user names.

    //Submit the data to the server.
    $.post('http://'+global.serverIp+':'+global.serverPort+'/api/nrpproject/create', projectData, function(data) {
      //debugger;

      if( data.nrpproject._id != "" ) {
        console.log('Success!');
      }
    });

    /* END SUBMIT MODEL DATA */
      
      
    /* BEGIN SEND EMAIL */
      
    var destination_email = "chris.troutner@gmail.com";
    var subject = "RPiOVN: New Project Application: ";
    var message = "<!DOCTYPE html><html lang='en'><body>";

    message = message+"<p><b>Name:</b> "+$('#inputName').val()+"</p><br>";
    message = message+"<p><b>Email:</b> "+$('#inputEmail').val()+"</p><br>";
    message = message+"<p><b>Project Summary:</b> <br>"+$('#inputSummary').val()+"</p><br>";
    message = message+"<p><b>Hardware:</b> <br>"+$('#inputHardware').val()+"</p><br>";
    
    message = message+"</body></html>";
    
    var data = new Object();
    data.email = destination_email;
    data.subject = subject;
    data.message = message;
    
    $.get('http://rpiovn.com:3000/send_email', data, function(data) {
      //debugger;
      
      $('#newProjectForm').hide();
      $('#successMsg').show();
      $('#successMsg').text('Success!');
      $('#successMsg2').show();
      $('#successMsg2').text('Thank you for submitting your project idea. We will be in touch.');
      $('#successMsg2').css('font-weight', 'bold');
    });

    /* END SEND EMAIL */
      
  });

</script>

    
<!-- COPY END --> 
  </div>
  
</section>

<div class='footer'>
  <div class='container'>
    <div class='row'>
      <div class='col-sm-4 col-md-3 col-xs-6'>
        <h4>Who We Are</h4>
        <p><i>Blasting Off With Bootstrap</i> is the fastest way to space. <a href='#'>Book your ticket today</a>!</p>
        <p><a href='#'>More About Us <i class='glyphicon glyphicon-arrow-right'></i></a></p>
      </div>

      <div class='col-sm-2 col-xs-6 col-md-offset-1'>
        <h4>Links</h4>
        <ul class='list-unstyled'>
          <li><a href='#'>Home</a></li>
          <li><a href='#'>Tickets</a></li>
          <li><a href='#'>Stations</a></li>
        </ul>
      </div>

      <div class='clearfix visible-xs'></div>

      <div class='col-sm-2 col-xs-6'>
        <h4>Stay in Touch</h4>
        <ul class='list-unstyled'>
          <li><a href='#'>About</a></li>
          <li><a href='#'>Contact Us</a></li>
          <li><a href='#'>Blog</a></li>
          <li><a href='#'>Twitter</a></li>
          <li><a href='#'>Facebook</a></li>
        </ul>
      </div>

      <div class='col-sm-4 col-md-3 col-md-offset-1 col-xs-6'>
        <h4>Contact Us</h4>
        <ul class='list-unstyled'>
          <li><i class='glyphicon glyphicon-globe'></i> Orlando, FL<li>
          <li><i class='glyphicon glyphicon-phone'></i> 1-555-blast-off<li>
          <li><i class='glyphicon glyphicon-envelope'></i> <a href='mailto:#'>blastingoff@codeschool.com</a><li>
        </ul>

        <p>Blasting Off With Bootstrap &copy;2214.</p>
      </div>
    </div>
  </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="js/bootstrap.min.js?body=1"></script>
</body>
</html>
